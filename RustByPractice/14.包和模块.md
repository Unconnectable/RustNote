# 14

## 14.1

1.

```rust

```

2.

```rust

```

3.

```rust

```

4.

```rust

```

5.

```rust

```

6.

```rust

```

7.

```rust

```

8.

```rust

```

9.

```rust

```

---

## 14.2

1.

```rust
// in lib.rs

mod front_of_house {
    mod housting {
        fn add_to_waitlist() {}
        fn seat_at_table() {}
    }
    mod serving {
        fn take_order() {}
        fn serve_order() {}
        fn take_payment() {}
        fn complain() {}
    }
}
```

2.

```rust
// in lib.rs
pub mod front_of_house {
    pub mod hosting {
        pub fn add_to_waitlist() {}
        pub fn seat_at_table() {}
    }

    pub mod serving {
        pub fn take_order() {}
        pub fn serve_order() {}
        pub fn take_payment() {}
        fn complain() {}
    }
}

pub fn eat_at_restaurant() {
    crate::front_of_house::hosting::add_to_waitlist();
    front_of_house::hosting::add_to_waitlist();
}
fn main() {
    //
}
```

3.

```rust
// in lib.rs
pub mod front_of_house {
    pub mod hosting {
        pub fn add_to_waitlist() {}
        pub fn seat_at_table() {}
    }

    pub mod serving {
        pub fn take_order() {}
        pub fn serve_order() {}
        pub fn take_payment() {}
        fn complain() {}
    }
}

pub fn eat_at_restaurant() {
    crate::front_of_house::hosting::add_to_waitlist();
    front_of_house::hosting::add_to_waitlist();
}

//这是第三题的答案
mod back_of_house {
    fn fix_incorrect_order() {
        cook_order();
        super::front_of_house::serving::serve_order();
        crate::front_of_house::serving::serve_order();
    }

    fn cook_order() {}
}
fn main() {
    //
}
```

4.

```sh
# 文件目录结构
.
└── restaurant
    ├── Cargo.lock
    ├── Cargo.toml
    └── src
        ├── back_of_house.rs
        ├── front_of_house
        │   ├── hosting.rs
        │   ├── mod.rs
        │   └── serving.rs
        ├── lib.rs
        └── main.rs
```

### `src/back_of_house.rs`

```rust
use crate::front_of_house;
pub fn fix_incorrect_order() {
    cook_order();
    front_of_house::serving::serve_order();
}

pub fn cook_order() {}

```

### `src/front_of_house`

#### `hosting.rs`

```rust
pub fn add_to_waitlist() {}

pub fn seat_at_table() -> String {
    String::from("sit down please")
}
```

#### `serving.rs`

```rust
pub fn take_order() {}

pub fn serve_order() {}

pub fn take_payment() {}

fn complain() {}
```

#### `mod.rs` 注意这里的`pub mod`的写法!!

```rust
pub mod hosting;
pub mod serving;
```

### `src/lib.rs`

```rust
pub mod back_of_house;
pub mod front_of_house;
pub fn eat_at_restaurant() -> String {
    front_of_house::hosting::add_to_waitlist();
    back_of_house::cook_order();
    String::from("yummy yummy!")
}

```

5.

### `src/main.rs`

```rust
use restaurant::eat_at_restaurant;

fn main() {
    assert_eq!(eat_at_restaurant(), "yummy yummy!".to_string());

    //或者不引入lib.rs 直接调用
    assert_eq!(restaurant::eat_at_restaurant(), "yummy yummy!");
}

```

---

## 14.3

1.

```rust
use std::fmt::Result;
use std::io::Result as IoResult;

fn main() {}
```

2.

```rust

use std::collections::*;
//use std::collections::{BTreeMap, HashMap, HashSet};

fn main() {
    let _c1: HashMap<&str, i32> = HashMap::new();
    let mut c2 = BTreeMap::new();
    c2.insert(1, "a");
    let _c3: HashSet<i32> = HashSet::new();
}
```

3.  `module/restaurant/src/lib.rs`
    新增的代码

```rust
pub use crate::front_of_house::hosting;
```
